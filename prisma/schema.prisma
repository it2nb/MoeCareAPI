generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model complainer {
  complainerID          BigInt    @id @default(autoincrement()) @db.UnsignedBigInt
  complainerPrefixTh    String    @db.VarChar(10)
  complainerFirstnameTh String    @db.VarChar(50)
  complainerLastnameTh  String    @db.VarChar(50)
  complainerPrefixEn    String?   @db.VarChar(10)
  complainerFirstnameEn String?   @db.VarChar(50)
  complainerLastnameEn  String?   @db.VarChar(50)
  complainerGender      String?   @db.VarChar(10)
  complainerBirthday    DateTime  @db.Date
  complainerIDcard      String    @unique @db.VarChar(13)
  complainerPhone       String    @unique @db.VarChar(15)
  complainerEmail       String    @unique @db.VarChar(50)
  complainerAddress     String    @db.VarChar(100)
  provinceID            Int
  districtID            Int
  subdistrictID         Int
  postcode              String    @db.VarChar(5)
  complainerDefective   String    @db.VarChar(10)
  complainerPassword    String    @db.VarChar(50)
  complainerEnable      String    @db.VarChar(20)
  complainerCreated     DateTime  @db.DateTime(0)
  createdUserID         Int?      @db.UnsignedInt
  complainerUpdated     DateTime? @db.DateTime(0)
  updatedUserID         Int?      @db.UnsignedInt

  @@index([complainerID, complainerPhone, complainerEmail, complainerPassword])
}

model users {
  userID       Int     @id @default(autoincrement()) @db.UnsignedInt
  userName     String  @db.VarChar(50)
  userPassword String  @db.VarChar(50)
  userStatus   String  @db.VarChar(20)
  agencyID     Int?    @db.UnsignedInt
  agency       agency? @relation(fields: [agencyID], references: [agencyID])

  @@index([agencyID], map: "users_agencyID_fkey")
}

model agency {
  agencyID   Int     @id @default(autoincrement()) @db.UnsignedInt
  agencyName String  @db.VarChar(100)
  agencyCode String  @unique @db.VarChar(20)
  users      users[]
}

model district {
  districtID   Int    @default(0)
  districtName String @db.VarChar(100)
  provinceID   Int    @default(0)

  @@id([districtID, provinceID])
  @@index([districtID, provinceID], map: "prefecture_ID")
}

model province {
  provinceNo    Int    @default(0)
  provinceID    Int    @id @default(0)
  provinceName  String @db.VarChar(100)
  regionID      Int    @default(0)
  regiongroupID Int

  @@index([provinceNo, provinceID, regionID], map: "province_no")
}

model subdistrict {
  subdistrictID   Int    @id @default(0)
  subdistrictName String @db.VarChar(100)
  post            Int    @default(0)
  districtID      Int    @default(0)

  @@index([subdistrictID, districtID], map: "district_ID")
  @@index([districtID], map: "prefectur_id")
}
